<div class="row">

    <div class="col-md-7 fnb fn pdt-5 ">
        <span class="fn-palette-1">Warehouse Map</span>&nbsp;<i class="fas fa-chevron-right fa-xs"></i>&nbsp;<span class="fn-palette-5"> Location</span>
    </div>


    <div class="col-md-2 text-right">
        <div class="d-grid gap-2">
        
            <ng-template #popContent>
                <div  style="width:280px" class="fn fn-07e fnb">                                    
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Zone </div>
                        <div class="col-md-8">
                            <ng-select class=" text-danger"  class="custom custom-sm" bindLabel="desc" bindvalue="value" 
                            [clearable]="true"  [(ngModel)]="spmzone" [items]="lszone" >
                            <ng-template ng-label-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            <ng-template ng-option-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            </ng-select>
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Aisle from </div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" [(ngModel)]="pmfnd.aislefrom">
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Aisle to </div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" [(ngModel)]="pmfnd.aisleto">
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Bay from </div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" [(ngModel)]="pmfnd.bayfrom">
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Bay to </div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" [(ngModel)]="pmfnd.bayto">
                        </div>
                    </div>

                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Level from </div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" [(ngModel)]="pmfnd.levelfrom">
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Level to </div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" [(ngModel)]="pmfnd.levelto">
                        </div>
                    </div>

                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Location from</div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" [(ngModel)]="pmfnd.locationfrom">
                        </div>
                    </div>

                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Location to</div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " 
                            type="text" placeholder="Code or Name" [(ngModel)]="pmfnd.locationto">
                        </div>
                    </div>

                    <div class="row ln  pd-5 ">
                        <div class="col-md-4 pdt-5">Allow mixing product</div>
                        <div class="col-md-8">
                            <ng-select class="b text-danger"  class="custom custom-sm" bindLabel="desc" bindvalue="value" 
                            [clearable]="true"  [(ngModel)]="slcmixproduct" [items]="lsyesno" >
                                <ng-template ng-label-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                                <ng-template ng-option-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            </ng-select>
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Allow mixing aging</div>
                        <div class="col-md-8">
                            <ng-select class=" text-danger"  class="custom custom-sm" bindLabel="desc" bindvalue="value" 
                            [clearable]="true"  [(ngModel)]="slcmixaging" [items]="lsyesno" >
                            <ng-template ng-label-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            <ng-template ng-option-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            </ng-select>
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Allow mixing lot</div>
                        <div class="col-md-8">
                            <ng-select class=" text-danger"  class="custom custom-sm" bindLabel="desc" bindvalue="value" 
                            [clearable]="true"  [(ngModel)]="slcmixlot" [items]="lsyesno" >
                            <ng-template ng-label-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            <ng-template ng-option-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            </ng-select>
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Is picking</div>
                        <div class="col-md-8">
                            <ng-select class=" text-danger"  class="custom custom-sm" bindLabel="desc" bindvalue="value" 
                            [clearable]="true"  [(ngModel)]="slcispicking" [items]="lsyesno" >
                            <ng-template ng-label-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            <ng-template ng-option-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            </ng-select>
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Is Reserve</div>
                        <div class="col-md-8">
                            <ng-select class=" text-danger"  class="custom custom-sm" bindLabel="desc" bindvalue="value" 
                            [clearable]="true"  [(ngModel)]="slcisreserve" [items]="lsyesno" >
                            <ng-template ng-label-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            <ng-template ng-option-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            </ng-select>
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Third party</div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " 
                            type="text" placeholder="Code or Name" [(ngModel)]="pmfnd.thcode">
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Product</div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" placeholder="Order No" [(ngModel)]="pmfnd.ouorder">
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">Last touch</div>
                        <div class="col-md-8">
                            <input class="form-control form-control-sm  text-danger " type="text" placeholder="Code or Description" [(ngModel)]="pmfnd.article">
                        </div>
                    </div>
                    <div class="row ln pd-5">
                        <div class="col-md-4 pdt-5">State</div>
                        <div class="col-md-8">
                            <ng-select class=" text-danger"  class="custom custom-sm" bindLabel="desc" bindvalue="value" 
                            [clearable]="true"  [(ngModel)]="slcstate" [items]="lsstatem" >
                            <ng-template ng-label-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                            <ng-template ng-option-tmp let-item="item"><span class="text-danger b">{{item.desc}}</span> </ng-template>
                        </ng-select>
                        </div>
                    </div>
                    <div class="row   pd-5">
                        <div class="col-md-4">&nbsp;</div>
                        <div class="col-md-8">
                            <div class="d-grid gap-2">

                                <button type="button" class="btn snaps-warning btn-block mp " 
                                (click)="fndlocation()">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-search" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z"/>
                                        <path fill-rule="evenodd" d="M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"/>
                                    </svg>
                                    &nbsp;
                                    Filter Location
                                </button>

                            </div>
                        </div>
                    </div>
                </div>
            </ng-template>
            <ng-template #popTitle >
                <div style="width:280px">
                    <span class="fn fn-08e fnb">Search parameter</span>
                </div>
            </ng-template>
            <button type="button" class="btn btn-secondary snaps-btnblank fn-07e" placement="bottom" [autoClose]="'outside'" [ngbPopover]="popContent" [popoverTitle]="popTitle">
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-funnel-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M1.5 1.5A.5.5 0 0 1 2 1h12a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.128.334L10 8.692V13.5a.5.5 0 0 1-.342.474l-3 1A.5.5 0 0 1 6 14.5V8.692L1.628 3.834A.5.5 0 0 1 1.5 3.5v-2z"/>
                </svg> Parameters
            </button>

        </div>
    </div>
    
    <div class="col-md-3 ">
        <div class="input-group fnb">
            <input class="form-control fn-07e fnb text-danger " placeholder="Location" [(ngModel)]="pmfnd.lscode" >
            <div class="input-group-append">
            <button type="button" class="btn snaps-btngroup btn-prime " (click)="fndlocation();" >
                <i class="fas fa-search"></i>
            </button>
            </div>
        </div>
    </div>

</div>

<div class="row pdt-10">
    <div class="col-md-12 fnb">
        <div class="row">
            <div class="lsset fn-07e pd-0 ">
                <div class="head">
                    <div class="row mg-0 ln ">
                        <div class="col-md-1 ">Zone</div>
                        <div class="col-md-1 ">Aisle</div>
                        <div class="col-md-1 ">Bay</div>                    
                        <div class="col-md-1 ">Level</div>                
                        <div class="col-md-2 ">Location</div>
                        <div class="col-md-2 ">Name</div>
                        <div class="col-md-2 ">State</div>
                        <div class="col-md-1 ">Capacity</div>
                        
                    </div>
                </div>
            
                <div class="line bgsub-head  dglocation ">
                    <ng-scrollbar>
                    <div class="row mg-0 ln mpswitch " *ngFor="let ln of lslocation"  >
                        <div class="col-md-1 ">{{ln.lszone}}</div>
                        <div class="col-md-1 ">{{ln.lsaisle}}</div>                    
                        <div class="col-md-1 ">{{ln.lsbay}}</div>                   
                        <div class="col-md-1 ">{{ln.lslevel}}</div>
                        <div class="col-md-2 text-danger ">{{ln.lscodealt}}&nbsp;<span class="fas fa-hand-paper text-grey w30" *ngIf="ln.spcpicking == 1"> </span></div>
                        <div class="col-md-2 ">{{ln.lscodefull}}</div>                        
                        <div class="col-md-2  text-left " (click)="sellocation(ln)"> <span class="{{ngDecIcon(ln.tflow)}}"></span>  &nbsp; {{ngDecState(ln.tflow)}} </div>
                        <div class="col-md-1 ">{{ln.crfreepct}} %</div>                   
                    </div>
                    </ng-scrollbar>
                </div>

                <div class="foot bgsub-head fnb pd-5">
                    <div class="row mg-0">
                        <div class="col-md-2 pdt-5">
                            Total &nbsp; &nbsp;<span class="text-danger">{{lslocation.length | number }}</span> &nbsp; &nbsp; Bays
                        </div>
                       
                        <div class="col-md-1 tx-right lh-07e">
                            <div class="fn-06e fnb text-danger">Rows</div>
                            <div class="fn-06e">Per Page</div>
                        </div>
                        <div class="col-md-2">
    
                            <ng-select class=" text-danger"  class="custom custom-sm" bindLabel="value" bindvalue="value" 
                                        [clearable]="false"  [(ngModel)]="slrowlmt" [items]="lsrowlmt" (change)="ngChangeRowlmt()" >
                                <ng-template ng-label-tmp let-item="item"><span class="text-danger b">{{item.value}}</span> </ng-template>
                                <ng-template ng-option-tmp let-item="item"><span class="text-danger b">{{item.value}}</span> </ng-template>
                            </ng-select>
                        
                        </div>
                        <div class="col-md-7 tx-right">
                            <ngb-pagination [(page)]="page" [pageSize]="pageSize" [collectionSize]="lslocation.length" class="d-flex justify-content-end" ></ngb-pagination>
                        </div>
                    </div>
                </div>

            </div>

        </div>

    </div>

</div>
